sudo: false
language: node_js
script:
  - xo

  - ava test/basics.js

  - ava test/versions-1.8.x.js --match='*1.8.3*'
  - ava test/versions-1.8.x.js --match='*1.8.2*'
  - ava test/versions-1.8.x.js --match='*1.8.1*'
  - ava test/versions-1.8.x.js --match='*1.8.0*'

  - ava test/versions-1.7.x.js --match='*1.7.11*'
  - ava test/versions-1.7.x.js --match='*1.7.10*'
  - ava test/versions-1.7.x.js --match='*1.7.9*'
  - ava test/versions-1.7.x.js --match='*1.7.8*'
  - ava test/versions-1.7.x.js --match='*1.7.7*'
  - ava test/versions-1.7.x.js --match='*1.7.6*'
  - ava test/versions-1.7.x.js --match='*1.7.5*'
  - ava test/versions-1.7.x.js --match='*1.7.4*'
  - ava test/versions-1.7.x.js --match='*1.7.3*'
  - ava test/versions-1.7.x.js --match='*1.7.2*'
  - ava test/versions-1.7.x.js --match='*1.7.1*'
  - ava test/versions-1.7.x.js --match='*1.7.0*'

  - ava test/versions-1.6.x.js --match='*1.6.13*'
  - ava test/versions-1.6.x.js --match='*1.6.12*'
  - ava test/versions-1.6.x.js --match='*1.6.11*'
  - ava test/versions-1.6.x.js --match='*1.6.10*'
  - ava test/versions-1.6.x.js --match='*1.6.9*'
  - ava test/versions-1.6.x.js --match='*1.6.8*'
  - ava test/versions-1.6.x.js --match='*1.6.7*'
  - ava test/versions-1.6.x.js --match='*1.6.6*'
  - ava test/versions-1.6.x.js --match='*1.6.5*'
  - ava test/versions-1.6.x.js --match='*1.6.4*'
  - ava test/versions-1.6.x.js --match='*1.6.3*'
  - ava test/versions-1.6.x.js --match='*1.6.2*'
  - ava test/versions-1.6.x.js --match='*1.6.1*'
  - ava test/versions-1.6.x.js --match='*1.6.0*'

  - ava test/versions-1.5.x.js --match='*1.5.8*'
  - ava test/versions-1.5.x.js --match='*1.5.7*'
  - ava test/versions-1.5.x.js --match='*1.5.6*'
  - ava test/versions-1.5.x.js --match='*1.5.5*'
  - ava test/versions-1.5.x.js --match='*1.5.4*'
  - ava test/versions-1.5.x.js --match='*1.5.3*'
  - ava test/versions-1.5.x.js --match='*1.5.2*'
  - ava test/versions-1.5.x.js --match='*1.5.1*'
  - ava test/versions-1.5.x.js --match='*1.5.0*'
node_js:
  - '8'
  - '6'
  - '4'
after_success: npm run coverage
cache:
  timeout: 900
  directories:
  - node_modules
addons:
  apt:
    packages:
      - oracle-java8-set-default
